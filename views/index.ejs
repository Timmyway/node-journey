<%- include('./partials/header.ejs') %>
<div id="app">
    <div class="p-2">
        <h1 class="px-2 py-4 text-amber-500 text-2xl font-bold">Manage notes</h1>
        <section class="p-2">
            <div class="flex items-center gap-4">
                <button @click="noteStore.addForm">                    
                    <svg fill="#1C2033" width="24" height="24" version="1.1" id="lni_lni-circle-plus" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">
                        <g>
                            <path d="M42.2,29.7C42.2,29.7,42.2,29.7,42.2,29.7l-8,0l0-7.9c0-1.2-1-2.2-2.3-2.2c0,0,0,0,0,0c-1.2,0-2.2,1-2.2,2.3l0,7.9l-7.9,0
                                c-1.2,0-2.2,1-2.2,2.3c0,1.2,1,2.2,2.3,2.2c0,0,0,0,0,0l7.9,0l0,7.9c0,1.2,1,2.2,2.3,2.2c0,0,0,0,0,0c1.2,0,2.2-1,2.2-2.3l0-7.9
                                l7.9,0c1.2,0,2.2-1,2.2-2.3C44.4,30.7,43.4,29.7,42.2,29.7z"/>
                            <path d="M32,1.8C15.3,1.8,1.8,15.3,1.8,32c0,16.7,13.6,30.3,30.3,30.3c16.7,0,30.3-13.6,30.3-30.3C62.3,15.3,48.7,1.8,32,1.8z
                                M32,57.8C17.8,57.8,6.3,46.2,6.3,32S17.8,6.3,32,6.3S57.8,17.8,57.8,32S46.2,57.8,32,57.8z"/>
                        </g>
                    </svg>
                </button>
                <button @click="noteStore.refresh">                    
                    <svg fill="#1C2033" width="24" height="24" version="1.1" id="lni_lni-reload" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                        y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">
                        <g>
                            <path d="M8.4,29c0.3,0,0.7-0.1,1-0.2l11.1-3.9c1.2-0.4,1.8-1.7,1.4-2.9c-0.4-1.2-1.7-1.8-2.9-1.4l-6.9,2.4
                                c3.3-8.6,11.7-14.4,21.3-14.4c10.5,0,19.6,7,22.2,17c0.3,1.2,1.5,1.9,2.7,1.6c1.2-0.3,1.9-1.5,1.6-2.7c-3.1-12-14-20.4-26.6-20.4
                                c-11.2,0-21.1,6.6-25.2,16.5l-2.1-6c-0.4-1.2-1.7-1.8-2.9-1.4c-1.2,0.4-1.8,1.7-1.4,2.9l3.8,10.9C6.1,28.3,7.2,29,8.4,29z"/>
                            <path d="M62.1,49.7L58,39c-0.3-0.7-0.8-1.3-1.5-1.6c-0.7-0.3-1.5-0.3-2.2,0l-11,4.2c-1.2,0.4-1.7,1.7-1.3,2.9
                                c0.4,1.2,1.7,1.7,2.9,1.3l6.9-2.6C47.8,50.5,40,55.3,31.3,55.3c-9.9,0-18.6-6.2-21.7-15.4c-0.4-1.2-1.7-1.8-2.8-1.4
                                c-1.2,0.4-1.8,1.7-1.4,2.8c3.7,11,14.1,18.4,25.9,18.4c10.3,0,19.6-5.7,24.3-14.5l2.3,6.1c0.3,0.9,1.2,1.4,2.1,1.4
                                c0.3,0,0.5,0,0.8-0.2C62,52.2,62.5,50.9,62.1,49.7z"/>
                        </g>
                    </svg>

                </button>
            </div>            
            <wt-note-form
                :visible="appStore.display.addForm"
                :mode="noteStore.form.mode"
                token="<%= csrfToken %>"
            ></wt-note-form>
        </section>

        <section class="pb-4">
            <h2 class="font-bold text-2xl py-2 text-center mb-4 lg:mb-6">Notes</h2>
            <div
                v-if="noteStore.getNotes?.length < 1"
                class="p-2 text-gray-700"
            >
                Aucune note disponible pour le moment...
            </div>
            <div v-else class="flex flex-wrap gap-4 justify-center">
                <template v-for="note in noteStore.getNotes">
                    <wt-note
                        :item="note"
                        token="<%= csrfToken %>"
                    ></wt-note>
                </template>
            </div>
        </section>
    </div>
</div>

<script src="js/app.js"></script>
<%- include('./partials/footer.ejs') %>