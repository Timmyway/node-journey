<%- include('../partials/headerGuest.ejs') %>
<main>
    <section class="grid grid-cols-1 lg:grid-cols-2">
        <div
            class="p-4 bg-gray-50 text-white bg-no-repeat bg-center bg-cover hidden lg:block"
            style="background-image: url('images/pages/login.WebP')"
        >
            <section class="flex justify-center items-center h-screen text-center relative">
                <div class="absolute top-2 left-2">
                    <a href="/">
                        <button class="h-12 w-12 p-1 bg-white shadow rounded flex justify-center items-center text-secondary font-bold">                            
                            <svg fill="#1C2033" width="52" height="52" version="1.1" id="lni_lni-arrow-left" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                                 y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">
                                <path d="M56,29.8H13.3l17-17.3c0.9-0.9,0.9-2.3,0-3.2c-0.9-0.9-2.3-0.9-3.2,0l-20.7,21c-0.9,0.9-0.9,2.3,0,3.2l20.7,21
                                c0.4,0.4,1,0.7,1.6,0.7c0.6,0,1.1-0.2,1.6-0.6c0.9-0.9,0.9-2.3,0-3.2L13.4,34.3H56c1.2,0,2.2-1,2.2-2.2C58.2,30.8,57.2,29.8,56,29.8
                                z"/>
                            </svg>                            
                        </button>
                    </a>
                </div>
            </section>
        </div>
        <article class="bg-gray-50 flex justify-center items-center px-8 py-4">
            <div class="bg-white shadow-lg rounded-xl w-full flex justify-center py-4 xl:py-8">
                <div class="max-w-xl px-8 py-4">
                    <div class="flex flex-col gap-3 items-center max-w-xs text-center mx-auto text-c">
                        <div class="mb-6">
                            <img src="images/logo.jpg" alt="" class="w-24 rounded shadow-lg">
                        </div>
                        <h2 class="font-bold text-xl">Créer votre compte en moins de 2 minutes</h2>                        
                    </div>
                    <form action="/signup" method="POST" novalidate>
                        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                        <div class="form-group my-4">
                            <label for="username" class="mb-1 font-bold">Username *</label>
                            <input
                                id="username"
                                name="username"
                                type="text"
                                class="form-control"
                                placeholder="Comment pouvons-nous vous appeler ?"
                                autocomplete="off"
                                value="<%= oldInput.username %>"
                                required
                            >                            
                        </div>
                        <div class="form-group my-4">
                            <label for="email" class="mb-1 font-bold">Email *</label>
                            <input
                                id="email"
                                name="email"
                                type="text"
                                class="form-control <%= validationErrors.find(e => e.path === 'email') ? 'border-2 border-solid border-red-600' : '' %>"
                                placeholder="exemple@email.com"
                                autocomplete="email"
                                value="<%= oldInput.email %>"
                                required
                            >                            
                        </div>
                        <div class="form-group my-4">
                            <label for="password" class="mb-1 font-bold">Mot de passe *</label>
                            <input
                                id="password"
                                name="password"
                                type="password"
                                class="form-control <%= validationErrors.find(e => e.path === 'password') ? 'border-2 border-solid border-red-600' : '' %>"
                                placeholder="Entrez votre mot de passe"
                                autocomplete="current-password"
                                required
                            >                            
                        </div>
                        <div class="form-group my-4">
                            <label for="password-confirm" class="mb-1 font-bold">Mot de passe *</label>
                            <input
                                id="password-confirm"
                                name="password-confirm"
                                type="password"
                                class="form-control <%= validationErrors.find(e => e.path === 'password-confirm') ? 'border-2 border-solid border-red-600' : '' %>"
                                placeholder="Confirmer votre mot de passe"
                                autocomplete="off"
                                required
                            >                            
                        </div>
                        <div class="form-group mt-8">
                            <button
                                class="btn font-bold text-white bg-indigo-700 w-full px-4 py-3 rounded-lg text-theme mt-2 text-2xl hover:bg-indigo-600"
                                type="submit"
                            >S'inscrire</button>                            
                        </div>
                    </form>
                    <div class="flex p-4 text-c">
                        <p class="mb-4 max-w-xs">
                            Si vous avez déjà un compte, <a href="/login" class="underline text-blue-600">connectez-vous ici</a>.</a>
                        </p>                        
                    </div>

                    <% if (errorMessage && errorMessage?.length > 0) { %>
                        <div class="font-bold px-4 py-2 bg-red-300 flex flex-col gap-2">
                            <% errorMessage.forEach(function(error) { %>
                                <span>★ <%= error.msg %></span>
                            <% }); %>
                        </div>
                    <% } %>
                </div>
            </div>
        </article>
    </section>
</main>
<%- include('../partials/footer.ejs') %>